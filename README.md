# coreutils-rs-independent-test

An independent quality test suite for [fcoreutils](https://crates.io/crates/fcoreutils) — a Rust replacement for GNU coreutils.

## What This Tests

| Tool | Binary | Claimed Speedup |
|------|--------|----------------|
| wc | fwc | 30x |
| cut | fcut | 10x |
| sha256sum | fsha256sum | 4x single, 10x parallel |
| md5sum | fmd5sum | 10x single, 30x parallel |
| b2sum | fb2sum | 10x |
| base64 | fbase64 | 10x |
| sort | fsort | 10x |
| tr | ftr | 10x |
| uniq | funiq | 10x |
| tac | ftac | 10x |

## Test Categories

1. **Compatibility Tests** — Byte-for-byte output comparison against GNU coreutils (300+ test cases)
2. **Performance Benchmarks** — Verify claimed speedups using hyperfine (100+ benchmarks)
3. **Stress Tests** — Concurrent execution, adversarial input, signal handling, long lines

## Platform Matrix

| OS | Architecture | Runner |
|----|-------------|--------|
| Linux | x86_64 | ubuntu-latest |
| Linux | ARM64 | ubuntu-24.04-arm |
| macOS | x86_64 | macos-13 |
| macOS | ARM64 | macos-latest |
| Windows | x86_64 | windows-latest |
| Windows | ARM64 | windows-11-arm |

## Running Locally

```bash
# Install fcoreutils
cargo install fcoreutils

# Generate test data
bash tests/helpers/generate_test_data.sh

# Run compatibility tests
bash tests/compatibility/run_all.sh

# Run benchmarks (requires hyperfine)
cargo install hyperfine
bash tests/benchmarks/run_all.sh

# Run stress tests
bash tests/stress/stress_tests.sh
```

## CI Workflows

- **compatibility-tests.yml** — Runs on push/PR, tests all 10 tools on 6 platforms
- **benchmarks.yml** — Runs on push/PR, benchmarks all 10 tools on 6 platforms
- **collect-results.yml** — Aggregates results into REPORT.md

## Results

See [REPORT.md](REPORT.md) for the latest test results (generated by CI).
